{
    "app-id" : "io.github.vikdevelop.SaveDesktop",
    "desktop-file-name-suffix" : " (Development)",
    "runtime" : "org.gnome.Platform",
    "runtime-version" : "49",
    "sdk" : "org.gnome.Sdk",
    "command" : "savedesktop",
    "finish-args" : [
        "--share=ipc",
        "--socket=wayland",
        "--socket=fallback-x11",
        "--device=dri",
        "--filesystem=xdg-run/gvfs",
        "--filesystem=xdg-run/gvfsd",
        "--filesystem=~/.config",
        "--filesystem=~/.local/share",
        "--filesystem=xdg-download",
        "--filesystem=xdg-desktop",
        "--filesystem=~/.themes:create",
        "--filesystem=~/.icons:create",
        "--filesystem=~/.cinnamon:create",
        "--filesystem=~/.xfce4:create",
        "--filesystem=~/.fonts:create",
        "--filesystem=/var/lib/flatpak:ro",
        "--filesystem=~/.local/share/flatpak/app:ro",
        "--filesystem=~/.var/app:ro",
        "--talk-name=org.gnome.SessionManager",
        "--talk-name=org.xfce.SessionManager",
        "--talk-name=org.kde.LogoutPrompt",
        "--talk-name=com.system76.CosmicSession",
        "--talk-name=org.freedesktop.FileManager1",
        "--env=DCONF_USER_CONFIG_DIR=.config/dconf",
        "--filesystem=xdg-run/dconf",
        "--talk-name=ca.desrt.dconf"
    ],
    "modules" : [
        {
            "name" : "7zip",
            "buildsystem" : "simple",
            "subdir" : "CPP/7zip/Bundles/Alone2",
            "build-commands" : [
                "make -j $FLATPAK_BUILDER_N_JOBS -f makefile.gcc",
                "install -D ./_o/7zz -t /app/bin",
                "ln -s /app/bin/7zz /app/bin/7z"
            ],
            "sources" : [
                {
                    "type" : "git",
                    "url" : "https://github.com/ip7z/7zip.git",
                    "tag" : "26.00",
                    "commit" : "839151eaaad24771892afaae6bac690e31e58384"
                }
            ],
            "x-checker-data" : {
                "type" : "git",
                "tag-pattern" : "^([\\d.]+)$"
            }
        },
        {
            "name" : "dconf",
            "buildsystem" : "simple",
            "build-commands" : [
                "cp -R dconf/* /app"
            ],
            "sources" : [
                {
                    "type" : "archive",
                    "url" : "https://github.com/vikdevelop/SaveDesktop/releases/download/3.7.1/dconf-build-override-049-amd64.tar.xz",
                    "sha256" : "a1e644bbf755cccf531260a78bcc631d18c29518f86004256cd4b32d9e8a85f3",
                    "only-arches" : [
                        "x86_64"
                    ]
                },
                {
                    "type" : "archive",
                    "url" : "https://github.com/vikdevelop/SaveDesktop/releases/download/3.7.1/dconf-build-override-049-aarch64.tar.xz",
                    "sha256" : "a60390607bda144a17b56e0557ec9bb3d1b7a5c6465270652769cfe7642dd528",
                    "only-arches" : [
                        "aarch64"
                    ]
                }
            ]
        },
        {
            "name" : "savedesktop",
            "builddir" : true,
            "buildsystem" : "meson",
            "sources" : [
                {
                    "type" : "dir",
                    "path" : "."
                }
            ],
            "config-opts" : [
                "--libdir=lib"
            ]
        }
    ],
    "build-options" : {
        "env" : {        }
    }
}
